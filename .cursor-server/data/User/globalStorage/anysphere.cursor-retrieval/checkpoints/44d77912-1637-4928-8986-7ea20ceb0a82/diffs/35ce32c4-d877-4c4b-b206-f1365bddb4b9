{"fsPath":"\\home\\jarvis\\NetGuard\\FIX_ALL_SERVICES.sh","fileUuid":"35ce32c4-d877-4c4b-b206-f1365bddb4b9","fileSizeBytes":3802,"numLines":119,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":120,"addedLines":["#!/bin/bash","","echo \"NetGuard Pro - Service Repair Script\"","echo \"====================================\"","echo \"\"","","# Function to check and fix a service","fix_service() {","    local service_name=$1","    local script_name=$2","    local description=$3","    ","    echo \"Checking: $description ($service_name)\"","    ","    # Check if it's a systemd service","    if systemctl list-unit-files | grep -q \"^${service_name}.service\"; then","        echo \"  Found systemd service: $service_name\"","        ","        # Check status","        if systemctl is-active --quiet $service_name; then","            echo \"  ✓ Service is already running\"","        else","            echo \"  → Starting systemd service...\"","            sudo systemctl start $service_name","            sleep 2","            ","            if systemctl is-active --quiet $service_name; then","                echo \"  ✓ Service started successfully\"","            else","                echo \"  ✗ Failed to start service\"","                systemctl status $service_name --no-pager -l","            fi","        fi","    else","        echo \"  No systemd service found, checking for script...\"","        ","        # Check if script is running","        if pgrep -f \"$script_name\" > /dev/null; then","            echo \"  ✓ Script is already running\"","        else","            echo \"  → Starting script...\"","            ","            # Check if script file exists","            if [ -f \"/home/jarvis/NetGuard/scripts/$script_name\" ]; then","                cd /home/jarvis/NetGuard/scripts","                nohup python3 \"$script_name\" > /dev/null 2>&1 &","                sleep 2","                ","                if pgrep -f \"$script_name\" > /dev/null; then","                    echo \"  ✓ Script started successfully\"","                else","                    echo \"  ✗ Failed to start script\"","                fi","            else","                echo \"  ✗ Script file not found: $script_name\"","            fi","        fi","    fi","    echo \"\"","}","","# Fix all the services","echo \"Fixing IoT Security Scanner...\"","fix_service \"iot-security-scanner\" \"iot_security_scanner.py\" \"IoT Security Scanner\"","","echo \"Fixing Device Scorer...\"","fix_service \"device-scorer\" \"device_scorer.py\" \"Device Scorer\"","","echo \"Fixing Enhanced Alert System...\"","fix_service \"enhanced-alert-system\" \"enhanced_alert_system.py\" \"Enhanced Alert System\"","","echo \"Checking other important services...\"","","# Check AI aggregator","fix_service \"ai-5min-aggregator\" \"ai_5min_aggregator.py\" \"AI 5-Min Aggregator\"","","# Check device tracker","fix_service \"device-tracker\" \"device_tracker.py\" \"Device Tracker\"","","# Check unified device processor","fix_service \"unified-device-processor\" \"unified_device_processor.py\" \"Unified Device Processor\"","","echo \"Service repair completed!\"","echo \"\"","echo \"Final status check:\"","echo \"===================\"","","# Show final status","services=(","    \"iot-security-scanner:iot_security_scanner.py\"","    \"device-scorer:device_scorer.py\"","    \"enhanced-alert-system:enhanced_alert_system.py\"","    \"ai-5min-aggregator:ai_5min_aggregator.py\"","    \"device-tracker:device_tracker.py\"","    \"unified-device-processor:unified_device_processor.py\"",")","","for service_info in \"${services[@]}\"; do","    service_name=$(echo $service_info | cut -d: -f1)","    script_name=$(echo $service_info | cut -d: -f2)","    ","    if systemctl list-unit-files | grep -q \"^${service_name}.service\"; then","        if systemctl is-active --quiet $service_name; then","            echo \"✓ $service_name (systemd service) - RUNNING\"","        else","            echo \"✗ $service_name (systemd service) - STOPPED\"","        fi","    else","        if pgrep -f \"$script_name\" > /dev/null; then","            echo \"✓ $service_name (script) - RUNNING\"","        else","            echo \"✗ $service_name (script) - STOPPED\"","        fi","    fi","done","","echo \"\"","echo \"Use the SERVICE_NAMES_REFERENCE.txt file for command reference.\"",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000001,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000010,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000015,1000033,1000034,1000035,1000019,1000036,1000023,1000037,1000038,1000039,1000040,1000041,1000042,1000043,1000044,1000045,1000046,1000047,1000026,1000048,1000029,1000030,1000049,1000050,1000051,1000001,1000052,1000053,1000054,1000001,1000055,1000056,1000001,1000057,1000058,1000001,1000059,1000001,1000060,1000061,1000001,1000062,1000063,1000001,1000064,1000065,1000001,1000066,1000004,1000067,1000068,1000001,1000069,1000070,1000071,1000072,1000073,1000074,1000075,1000076,1000077,1000001,1000078,1000079,1000080,1000010,1000013,1000017,1000081,1000019,1000082,1000030,1000031,1000034,1000083,1000019,1000084,1000030,1000049,1000085,1000001,1000004,1000086,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}