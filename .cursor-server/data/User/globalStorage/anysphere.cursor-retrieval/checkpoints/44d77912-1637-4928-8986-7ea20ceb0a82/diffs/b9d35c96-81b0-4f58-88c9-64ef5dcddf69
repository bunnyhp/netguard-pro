{"fsPath":"\\home\\jarvis\\NetGuard\\MANAGE_ALL_SERVICES.sh","fileUuid":"b9d35c96-81b0-4f58-88c9-64ef5dcddf69","fileSizeBytes":3737,"numLines":125,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":126,"addedLines":["#!/bin/bash","","echo \"NetGuard Pro - Complete Service Management\"","echo \"==========================================\"","echo \"\"","","# Function to check service status","check_service() {","    local service_name=$1","    local script_name=$2","    local display_name=$3","    ","    echo -n \"Checking $display_name: \"","    ","    # Check systemd service first","    if systemctl list-unit-files | grep -q \"^${service_name}.service\"; then","        if systemctl is-active --quiet $service_name; then","            echo \"RUNNING (systemd)\"","            return 0","        else","            echo \"STOPPED (systemd)\"","            return 1","        fi","    else","        # Check if script is running","        if pgrep -f \"$script_name\" > /dev/null; then","            echo \"RUNNING (script)\"","            return 0","        else","            echo \"STOPPED (script)\"","            return 1","        fi","    fi","}","","# Function to start service","start_service() {","    local service_name=$1","    local script_name=$2","    local display_name=$3","    ","    echo \"Starting $display_name...\"","    ","    # Check systemd service first","    if systemctl list-unit-files | grep -q \"^${service_name}.service\"; then","        sudo systemctl start $service_name","        sleep 2","        if systemctl is-active --quiet $service_name; then","            echo \"✓ Started successfully (systemd)\"","            return 0","        else","            echo \"✗ Failed to start (systemd)\"","            return 1","        fi","    else","        # Start as script","        cd /home/jarvis/NetGuard/scripts","        nohup python3 \"$script_name\" > \"/tmp/${script_name}.log\" 2>&1 &","        sleep 2","        if pgrep -f \"$script_name\" > /dev/null; then","            echo \"✓ Started successfully (script)\"","            return 0","        else","            echo \"✗ Failed to start (script)\"","            return 1","        fi","    fi","}","","# Define all services","declare -A services=(","    [\"iot-security-scanner\"]=\"iot_security_scanner.py:IoT Security Scanner\"","    [\"device-scorer\"]=\"device_scorer.py:Device Scorer\"","    [\"enhanced-alert-system\"]=\"enhanced_alert_system.py:Enhanced Alert System\"","    [\"ai-5min-aggregator\"]=\"ai_5min_aggregator.py:AI 5-Min Aggregator\"","    [\"device-tracker\"]=\"device_tracker.py:Device Tracker\"","    [\"unified-device-processor\"]=\"unified_device_processor.py:Unified Device Processor\"",")","","echo \"Current Service Status:\"","echo \"======================\"","stopped_services=()","","for service in \"${!services[@]}\"; do","    IFS=':' read -r script display <<< \"${services[$service]}\"","    if ! check_service \"$service\" \"$script\" \"$display\"; then","        stopped_services+=(\"$service:$script:$display\")","    fi","done","","echo \"\"","if [ ${#stopped_services[@]} -eq 0 ]; then","    echo \"✓ All services are running!\"","else","    echo \"Found ${#stopped_services[@]} stopped services. Starting them now...\"","    echo \"\"","    ","    for service_info in \"${stopped_services[@]}\"; do","        IFS=':' read -r service script display <<< \"$service_info\"","        start_service \"$service\" \"$script\" \"$display\"","        echo \"\"","    done","    ","    echo \"Final Status Check:\"","    echo \"===================\"","    for service in \"${!services[@]}\"; do","        IFS=':' read -r script display <<< \"${services[$service]}\"","        check_service \"$service\" \"$script\" \"$display\"","    done","fi","","echo \"\"","echo \"Service Management Commands:\"","echo \"===========================\"","echo \"Check status: systemctl status <service-name>\"","echo \"Start service: sudo systemctl start <service-name>\"","echo \"Stop service: sudo systemctl stop <service-name>\"","echo \"Restart service: sudo systemctl restart <service-name>\"","echo \"\"","echo \"For scripts:\"","echo \"Check if running: pgrep -f <script-name>\"","echo \"Stop script: pkill -f <script-name>\"","echo \"\"","echo \"Reference file: /home/jarvis/NetGuard/SERVICE_NAMES_REFERENCE.txt\"",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000001,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000010,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000016,1000017,1000025,1000019,1000020,1000026,1000027,1000001,1000028,1000029,1000007,1000008,1000009,1000010,1000030,1000010,1000012,1000013,1000031,1000032,1000014,1000033,1000016,1000017,1000034,1000019,1000020,1000021,1000035,1000036,1000037,1000032,1000023,1000038,1000016,1000017,1000039,1000019,1000020,1000026,1000027,1000001,1000040,1000041,1000042,1000043,1000044,1000045,1000046,1000047,1000048,1000001,1000049,1000050,1000051,1000001,1000052,1000053,1000054,1000055,1000026,1000056,1000001,1000004,1000057,1000058,1000059,1000060,1000061,1000010,1000062,1000063,1000064,1000065,1000066,1000010,1000067,1000068,1000069,1000070,1000071,1000066,1000072,1000001,1000004,1000073,1000074,1000075,1000076,1000077,1000078,1000004,1000079,1000080,1000081,1000004,1000082,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}