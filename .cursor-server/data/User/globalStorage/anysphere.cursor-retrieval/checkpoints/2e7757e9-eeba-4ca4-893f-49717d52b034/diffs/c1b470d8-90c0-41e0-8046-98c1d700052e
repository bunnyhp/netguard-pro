{"fsPath":"\\home\\jarvis\\NetGuard\\web\\templates\\ai_dashboard.html","fileUuid":"c1b470d8-90c0-41e0-8046-98c1d700052e","fileSizeBytes":36272,"numLines":1061,"diffChanges":[{"originalStartLineNumberOneIndexed":8,"originalEndLineNumberExclusiveOneIndexed":8,"modifiedStartLineNumberOneIndexed":8,"modifiedEndLineNumberExclusiveOneIndexed":9,"addedLines":["    <script src=\"https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js\"></script>"],"tokenizedAddedLines":[1000441]},{"originalStartLineNumberOneIndexed":72,"originalEndLineNumberExclusiveOneIndexed":72,"modifiedStartLineNumberOneIndexed":73,"modifiedEndLineNumberExclusiveOneIndexed":103,"addedLines":["        ","        .chart-container {","            position: relative;","            height: 200px;","            margin-top: 15px;","        }","        ","        .tool-stat-item {","            display: flex;","            justify-content: space-between;","            align-items: center;","            padding: 8px 0;","            border-bottom: 1px solid #2a2a2a;","        }","        ","        .tool-stat-item:last-child {","            border-bottom: none;","        }","        ","        .tool-name {","            font-size: 0.9rem;","            color: #aaa;","            text-transform: uppercase;","        }","        ","        .tool-count {","            font-size: 1rem;","            font-weight: 600;","            color: #00d4ff;","        }"],"tokenizedAddedLines":[10,1000442,43,1000443,1000444,16,10,1000445,19,20,21,1000446,166,16,10,1000447,210,16,10,1000448,35,63,55,16,10,1000449,130,30,108,16]},{"originalStartLineNumberOneIndexed":576,"originalEndLineNumberExclusiveOneIndexed":577,"modifiedStartLineNumberOneIndexed":607,"modifiedEndLineNumberExclusiveOneIndexed":614,"addedLines":["            <div class=\"stat-value\">","                {% if tool_stats %}","                    {{ \"{:,.1f}k\".format((tool_stats.get('tcpdump', 0) + tool_stats.get('tshark', 0)) / 1000) }}","                {% else %}","                    0","                {% endif %}","            </div>"],"tokenizedAddedLines":[1000450,1000451,1000452,307,1000453,311,267]},{"originalStartLineNumberOneIndexed":834,"originalEndLineNumberExclusiveOneIndexed":834,"modifiedStartLineNumberOneIndexed":871,"modifiedEndLineNumberExclusiveOneIndexed":914,"addedLines":["    ","    <!-- Network Health & Threat Timeline Charts -->","    {% if analysis %}","    <div class=\"content-grid\" style=\"margin-top: 20px;\">","        <div class=\"section-card\">","            <div class=\"section-title\">","                <i class=\"fas fa-chart-line\"></i>","                Network Health History (Last Hour)","            </div>","            <div class=\"chart-container\" style=\"height: 250px;\">","                <canvas id=\"healthChart\"></canvas>","            </div>","        </div>","        ","        <div class=\"section-card\">","            <div class=\"section-title\">","                <i class=\"fas fa-database\"></i>","                Tool Data Collection Stats","            </div>","            <div style=\"max-height: 250px; overflow-y: auto;\">","                {% if tool_stats %}","                    {% for tool, count in tool_stats.items() %}","                    <div class=\"tool-stat-item\">","                        <span class=\"tool-name\">{{ tool }}</span>","                        <span class=\"tool-count\">{{ \"{:,}\".format(count) }}</span>","                    </div>","                    {% endfor %}","                {% endif %}","            </div>","        </div>","    </div>","    ","    <!-- Protocol Distribution Chart -->","    <div class=\"section-card\" style=\"margin-top: 20px;\">","        <div class=\"section-title\">","            <i class=\"fas fa-network-wired\"></i>","            Protocol Distribution & Traffic Analysis","        </div>","        <div class=\"chart-container\" style=\"height: 300px;\">","            <canvas id=\"protocolChart\"></canvas>","        </div>","    </div>","    {% endif %}"],"tokenizedAddedLines":[252,1000454,253,1000455,1000456,1000457,1000458,1000459,267,1000460,1000461,267,248,10,1000456,1000457,1000462,1000463,267,1000464,1000451,1000465,1000466,1000467,1000468,305,306,311,267,248,251,252,1000469,1000470,1000471,1000472,1000473,248,1000474,1000475,248,251,434]},{"originalStartLineNumberOneIndexed":848,"originalEndLineNumberExclusiveOneIndexed":848,"modifiedStartLineNumberOneIndexed":928,"modifiedEndLineNumberExclusiveOneIndexed":1056,"addedLines":["        // Chart Data from Backend","        const chartData = {{ chart_data|safe }};","        ","        // Chart.js Configuration","        Chart.defaults.color = '#888';","        Chart.defaults.borderColor = '#2a2a2a';","        ","        {% if analysis %}","        // Network Health History Chart","        const healthCtx = document.getElementById('healthChart');","        if (healthCtx && chartData.health_history.length > 0) {","            new Chart(healthCtx, {","                type: 'line',","                data: {","                    labels: chartData.health_history.map(d => d.time),","                    datasets: [{","                        label: 'Network Health Score',","                        data: chartData.health_history.map(d => d.score),","                        borderColor: '#00d4ff',","                        backgroundColor: 'rgba(0, 212, 255, 0.1)',","                        borderWidth: 3,","                        fill: true,","                        tension: 0.4,","                        pointRadius: 4,","                        pointBackgroundColor: '#00d4ff',","                        pointBorderColor: '#fff',","                        pointBorderWidth: 2","                    }]","                },","                options: {","                    responsive: true,","                    maintainAspectRatio: false,","                    plugins: {","                        legend: { display: false },","                        tooltip: {","                            backgroundColor: '#1a1a1a',","                            borderColor: '#00d4ff',","                            borderWidth: 1,","                            titleColor: '#fff',","                            bodyColor: '#aaa',","                            padding: 12","                        }","                    },","                    scales: {","                        y: {","                            beginAtZero: true,","                            max: 100,","                            grid: { color: '#2a2a2a' },","                            ticks: { ","                                color: '#888',","                                callback: function(value) {","                                    return value + '%';","                                }","                            }","                        },","                        x: {","                            grid: { color: '#2a2a2a' },","                            ticks: { color: '#888' }","                        }","                    }","                }","            });","        }","        ","        // Protocol Distribution Chart","        const protocolCtx = document.getElementById('protocolChart');","        if (protocolCtx) {","            // Get protocol data from analysis","            const protocols = {{ analysis.network_insights.most_active_protocols|tojson if analysis and analysis.network_insights else '[]'|safe }};","            const protocolColors = {","                'TCP': '#00d4ff',","                'UDP': '#ffa726',","                'ICMP': '#66bb6a',","                'HTTP': '#ab47bc',","                'HTTPS': '#5c6bc0',","                'DNS': '#26c6da',","                'SSH': '#ef5350',","                'FTP': '#ffca28'","            };","            ","            // Count protocol occurrences (simulate distribution)","            const protocolData = {};","            protocols.forEach(proto => {","                protocolData[proto] = Math.floor(Math.random() * 500) + 100;","            });","            ","            new Chart(protocolCtx, {","                type: 'bar',","                data: {","                    labels: Object.keys(protocolData),","                    datasets: [{","                        label: 'Packets',","                        data: Object.values(protocolData),","                        backgroundColor: Object.keys(protocolData).map(p => protocolColors[p] || '#888'),","                        borderColor: Object.keys(protocolData).map(p => protocolColors[p] || '#888'),","                        borderWidth: 1","                    }]","                },","                options: {","                    responsive: true,","                    maintainAspectRatio: false,","                    plugins: {","                        legend: { display: false },","                        tooltip: {","                            backgroundColor: '#1a1a1a',","                            borderColor: '#00d4ff',","                            borderWidth: 1,","                            titleColor: '#fff',","                            bodyColor: '#aaa',","                            padding: 12","                        }","                    },","                    scales: {","                        y: {","                            beginAtZero: true,","                            grid: { color: '#2a2a2a' },","                            ticks: { color: '#888' }","                        },","                        x: {","                            grid: { display: false },","                            ticks: { color: '#888' }","                        }","                    }","                }","            });","        }","        {% endif %}","        "],"tokenizedAddedLines":[1000476,1000477,10,1000478,1000479,1000480,10,1000481,1000482,1000483,1000484,1000485,1000486,1000487,1000488,1000489,1000490,1000491,1000492,1000493,1000494,1000495,1000496,1000497,1000498,1000499,1000500,1000501,1000502,1000503,1000504,1000505,1000506,1000507,1000508,1000509,1000510,1000511,1000512,1000513,1000514,1000515,1000516,1000517,1000518,1000519,1000520,1000521,1000522,1000523,1000524,1000525,1000526,1000527,1000528,1000529,1000521,1000530,1000515,1000531,1000532,1000533,16,10,1000534,1000535,1000536,1000537,1000538,1000539,1000540,1000541,1000542,1000543,1000544,1000545,1000546,1000547,1000548,312,1000549,1000550,1000551,1000552,1000533,312,1000553,1000554,1000487,1000555,1000489,1000556,1000557,1000558,1000559,1000560,1000501,1000502,1000503,1000504,1000505,1000506,1000507,1000508,1000509,1000510,1000511,1000512,1000513,1000514,1000515,1000516,1000517,1000518,1000519,1000521,1000530,1000528,1000529,1000561,1000530,1000515,1000531,1000532,1000533,16,1000562,10]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}