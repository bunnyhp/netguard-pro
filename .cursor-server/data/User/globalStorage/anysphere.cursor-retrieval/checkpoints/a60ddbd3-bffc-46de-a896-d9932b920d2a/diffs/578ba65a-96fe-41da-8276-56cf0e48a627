{"fsPath":"\\home\\jarvis\\NetGuard\\FIX_IOT_DOMAIN_PATTERNS_COMPLETE.sh","fileUuid":"578ba65a-96fe-41da-8276-56cf0e48a627","fileSizeBytes":1623,"numLines":49,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":50,"addedLines":["#!/bin/bash","","echo \"==========================================\"","echo \"Fixing IoT Domain Patterns on IoT Security Page\"","echo \"==========================================\"","","echo \"\"","echo \"üîç Step 1: Checking iot_domain_patterns table...\"","python3 /home/jarvis/NetGuard/CHECK_IOT_DOMAIN_PATTERNS.py","","echo \"\"","echo \"üîß Step 2: Starting Enhanced IoT Security Scanner...\"","sudo systemctl stop enhanced-iot-security-scanner.service 2>/dev/null || true","sudo systemctl start enhanced-iot-security-scanner.service","","echo \"   Checking status:\"","sudo systemctl status enhanced-iot-security-scanner.service --no-pager | grep \"Active:\"","","echo \"\"","echo \"üîÑ Step 3: Restarting Flask with updated IoT devices route...\"","sudo pkill -f \"python3.*app.py\" 2>/dev/null || true","sleep 3","","cd /home/jarvis/NetGuard/web","nohup python3 app.py > /tmp/flask.log 2>&1 &","sleep 3","","echo \"\"","echo \"üß™ Step 4: Testing IoT devices page...\"","response=$(curl -s -o /dev/null -w \"%{http_code}\" http://localhost:8080/iot-devices)","if [ \"$response\" = \"200\" ]; then","    echo \"‚úÖ IoT Devices page: WORKING (HTTP $response)\"","else","    echo \"‚ùå IoT Devices page: FAILED (HTTP $response)\"","fi","","echo \"\"","echo \"‚úÖ IoT Domain Patterns Fix Complete!\"","echo \"\"","echo \"üéØ What was fixed:\"","echo \"‚Ä¢ Created/populated iot_domain_patterns table\"","echo \"‚Ä¢ Started Enhanced IoT Security Scanner service\"","echo \"‚Ä¢ Updated IoT devices route to include domain patterns data\"","echo \"‚Ä¢ Restarted Flask with new configuration\"","echo \"\"","echo \"üåê Visit: http://localhost:8080/iot-devices\"","echo \"The 'Domain Communication Patterns' section should now show real data!\"","echo \"==========================================\"",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000002,1000001,1000004,1000005,1000006,1000001,1000004,1000007,1000008,1000009,1000001,1000010,1000011,1000001,1000004,1000012,1000013,1000014,1000001,1000015,1000016,1000014,1000001,1000004,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000001,1000004,1000024,1000004,1000025,1000026,1000027,1000028,1000029,1000004,1000030,1000031,1000002,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}