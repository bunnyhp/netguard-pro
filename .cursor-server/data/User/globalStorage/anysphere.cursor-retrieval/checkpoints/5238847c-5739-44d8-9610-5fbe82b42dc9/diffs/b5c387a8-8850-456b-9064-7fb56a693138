{"fsPath":"\\home\\jarvis\\NetGuard\\START_ALL_STOPPED_SERVICES.sh","fileUuid":"b5c387a8-8850-456b-9064-7fb56a693138","fileSizeBytes":3845,"numLines":116,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":117,"addedLines":["#!/bin/bash","","echo \"NetGuard Pro - Starting All Stopped Services\"","echo \"============================================\"","echo \"\"","","# Function to start a service","start_service() {","    local service_name=$1","    local script_name=$2","    local display_name=$3","    ","    echo \"Starting $display_name...\"","    ","    # First, install the service if it doesn't exist","    if [ ! -f \"/etc/systemd/system/${service_name}.service\" ]; then","        echo \"  Installing service file...\"","        if [ -f \"/home/jarvis/NetGuard/services/${service_name}.service\" ]; then","            sudo cp \"/home/jarvis/NetGuard/services/${service_name}.service\" \"/etc/systemd/system/\"","            sudo cp \"/home/jarvis/NetGuard/services/${service_name}.timer\" \"/etc/systemd/system/\" 2>/dev/null","            sudo systemctl daemon-reload","            echo \"  ✓ Service installed\"","        else","            echo \"  ✗ Service file not found, starting as script...\"","            cd /home/jarvis/NetGuard/scripts","            nohup python3 \"$script_name\" > \"/tmp/${script_name}.log\" 2>&1 &","            sleep 2","            if pgrep -f \"$script_name\" > /dev/null; then","                echo \"  ✓ Script started\"","            else","                echo \"  ✗ Script failed to start\"","            fi","            return","        fi","    fi","    ","    # Enable and start the service","    sudo systemctl enable \"${service_name}.service\"","    ","    # Check if it has a timer","    if [ -f \"/etc/systemd/system/${service_name}.timer\" ]; then","        sudo systemctl enable \"${service_name}.timer\"","        sudo systemctl start \"${service_name}.timer\"","        echo \"  ✓ Timer started\"","    else","        sudo systemctl start \"${service_name}.service\"","        echo \"  ✓ Service started\"","    fi","    ","    sleep 2","    ","    # Check if it's running","    if [ -f \"/etc/systemd/system/${service_name}.timer\" ]; then","        if systemctl is-active --quiet \"${service_name}.timer\"; then","            echo \"  ✓ $display_name is now RUNNING (timer)\"","        else","            echo \"  ✗ $display_name failed to start (timer)\"","        fi","    else","        if systemctl is-active --quiet \"${service_name}.service\"; then","            echo \"  ✓ $display_name is now RUNNING (service)\"","        else","            echo \"  ✗ $display_name failed to start (service)\"","        fi","    fi","    ","    echo \"\"","}","","# Start all the stopped services","start_service \"ai-5min-aggregator\" \"ai_5min_aggregator.py\" \"AI 5-Min Aggregator\"","start_service \"iot-security-scanner\" \"iot_security_scanner.py\" \"IoT Security Scanner\"","start_service \"device-scorer\" \"device_scorer.py\" \"Device Scorer\"","start_service \"enhanced-alert-system\" \"enhanced_alert_system.py\" \"Enhanced Alert System\"","","echo \"Starting process completed!\"","echo \"\"","echo \"Final Status Check:\"","echo \"===================\"","","# Quick status check","services=(\"ai-5min-aggregator\" \"iot-security-scanner\" \"device-scorer\" \"enhanced-alert-system\")","scripts=(\"ai_5min_aggregator.py\" \"iot_security_scanner.py\" \"device_scorer.py\" \"enhanced_alert_system.py\")","","for i in \"${!services[@]}\"; do","    service=\"${services[$i]}\"","    script=\"${scripts[$i]}\"","    ","    echo -n \"$service: \"","    ","    # Check systemd first","    if [ -f \"/etc/systemd/system/${service}.timer\" ]; then","        if systemctl is-active --quiet \"${service}.timer\"; then","            echo \"RUNNING (timer)\"","        else","            echo \"STOPPED (timer)\"","        fi","    elif [ -f \"/etc/systemd/system/${service}.service\" ]; then","        if systemctl is-active --quiet \"${service}.service\"; then","            echo \"RUNNING (service)\"","        else","            echo \"STOPPED (service)\"","        fi","    else","        # Check script","        if pgrep -f \"$script\" > /dev/null; then","            echo \"RUNNING (script)\"","        else","            echo \"STOPPED (script)\"","        fi","    fi","done","","echo \"\"","echo \"Check the System Status page in the web interface to see updated status!\"",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000001,1000005,1000006,1000007,1000008,1000009,1000010,1000011,1000010,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000010,1000033,1000034,1000010,1000035,1000036,1000037,1000038,1000039,1000040,1000041,1000042,1000032,1000010,1000043,1000010,1000044,1000036,1000045,1000046,1000020,1000047,1000031,1000040,1000048,1000049,1000020,1000050,1000031,1000032,1000010,1000051,1000052,1000001,1000053,1000054,1000055,1000056,1000057,1000001,1000058,1000004,1000059,1000060,1000001,1000061,1000062,1000063,1000001,1000064,1000065,1000066,1000010,1000067,1000010,1000068,1000069,1000070,1000071,1000020,1000072,1000031,1000073,1000074,1000075,1000020,1000076,1000031,1000040,1000077,1000078,1000079,1000020,1000080,1000031,1000032,1000081,1000001,1000004,1000082,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}