{"fsPath":"\\home\\jarvis\\NetGuard\\web\\templates\\system_status.html","fileUuid":"e968114f-6c04-4365-a72b-9a79432b20a2","fileSizeBytes":17170,"numLines":516,"diffChanges":[{"originalStartLineNumberOneIndexed":129,"originalEndLineNumberExclusiveOneIndexed":129,"modifiedStartLineNumberOneIndexed":129,"modifiedEndLineNumberExclusiveOneIndexed":147,"addedLines":["    ","    .btn-sm {","        border-radius: 4px;","        font-weight: 600;","        transition: all 0.2s ease;","        min-width: 60px;","    }","    ","    .btn-sm:hover {","        transform: translateY(-1px);","        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);","    }","    ","    .btn-sm:disabled {","        opacity: 0.6;","        cursor: not-allowed;","        transform: none;","    }"],"tokenizedAddedLines":[13,1000174,1000175,35,23,1000176,12,13,1000177,1000178,1000179,12,13,1000180,1000181,1000182,1000183,12]},{"originalStartLineNumberOneIndexed":182,"originalEndLineNumberExclusiveOneIndexed":183,"modifiedStartLineNumberOneIndexed":200,"modifiedEndLineNumberExclusiveOneIndexed":201,"addedLines":["        <div style=\"display: flex; gap: 10px; align-items: center;\">"],"tokenizedAddedLines":[1000184]},{"originalStartLineNumberOneIndexed":184,"originalEndLineNumberExclusiveOneIndexed":184,"modifiedStartLineNumberOneIndexed":202,"modifiedEndLineNumberExclusiveOneIndexed":207,"addedLines":["            <button class=\"btn btn-sm btn-{% if service.status == 'running' %}danger{% else %}success{% endif %}\" ","                    onclick=\"toggleSystemdService('{{ service.service }}', '{{ service.name }}', this)\"","                    style=\"font-size: 0.75rem; padding: 4px 8px;\">","                {% if service.status == 'running' %}Stop{% else %}Start{% endif %}","            </button>"],"tokenizedAddedLines":[1000185,1000186,1000187,1000188,1000189]},{"originalStartLineNumberOneIndexed":229,"originalEndLineNumberExclusiveOneIndexed":230,"modifiedStartLineNumberOneIndexed":252,"modifiedEndLineNumberExclusiveOneIndexed":253,"addedLines":["        <div style=\"display: flex; gap: 10px; align-items: center;\">"],"tokenizedAddedLines":[1000184]},{"originalStartLineNumberOneIndexed":231,"originalEndLineNumberExclusiveOneIndexed":231,"modifiedStartLineNumberOneIndexed":254,"modifiedEndLineNumberExclusiveOneIndexed":259,"addedLines":["            <button class=\"btn btn-sm btn-{% if script.status == 'running' %}danger{% else %}success{% endif %}\" ","                    onclick=\"toggleScript('{{ script.script }}', '{{ script.name }}', this)\"","                    style=\"font-size: 0.75rem; padding: 4px 8px;\">","                {% if script.status == 'running' %}Stop{% else %}Start{% endif %}","            </button>"],"tokenizedAddedLines":[1000190,1000191,1000187,1000192,1000189]},{"originalStartLineNumberOneIndexed":251,"originalEndLineNumberExclusiveOneIndexed":252,"modifiedStartLineNumberOneIndexed":279,"modifiedEndLineNumberExclusiveOneIndexed":280,"addedLines":["        <div style=\"display: flex; gap: 10px; align-items: center;\">"],"tokenizedAddedLines":[1000184]},{"originalStartLineNumberOneIndexed":253,"originalEndLineNumberExclusiveOneIndexed":253,"modifiedStartLineNumberOneIndexed":281,"modifiedEndLineNumberExclusiveOneIndexed":294,"addedLines":["            {% if service.name == 'Flask Dashboard' %}","            <button class=\"btn btn-sm btn-{% if service.status == 'running' %}danger{% else %}success{% endif %}\" ","                    onclick=\"toggleFlaskDashboard('{{ service.name }}', this)\"","                    style=\"font-size: 0.75rem; padding: 4px 8px;\">","                {% if service.status == 'running' %}Restart{% else %}Start{% endif %}","            </button>","            {% else %}","            <button class=\"btn btn-sm btn-{% if service.status == 'running' %}danger{% else %}success{% endif %}\" ","                    onclick=\"toggleWebService('{{ service.service }}', '{{ service.name }}', this)\"","                    style=\"font-size: 0.75rem; padding: 4px 8px;\">","                {% if service.status == 'running' %}Stop{% else %}Start{% endif %}","            </button>","            {% endif %}"],"tokenizedAddedLines":[1000193,1000185,1000194,1000187,1000195,1000189,160,1000185,1000196,1000187,1000188,1000189,127]},{"originalStartLineNumberOneIndexed":308,"originalEndLineNumberExclusiveOneIndexed":308,"modifiedStartLineNumberOneIndexed":349,"modifiedEndLineNumberExclusiveOneIndexed":510,"addedLines":["// Service control functions","function toggleSystemdService(serviceName, displayName, button) {","    const isRunning = button.textContent.trim() === 'Stop';","    const action = isRunning ? 'stop' : 'start';","    ","    // Show loading state","    const originalText = button.textContent;","    button.textContent = 'Processing...';","    button.disabled = true;","    ","    fetch('/api/service-control', {","        method: 'POST',","        headers: {","            'Content-Type': 'application/json',","        },","        body: JSON.stringify({","            service_name: serviceName,","            action: action,","            service_type: 'systemd'","        })","    })","    .then(response => response.json())","    .then(data => {","        if (data.success) {","            // Refresh page after 2 seconds to show updated status","            setTimeout(() => {","                location.reload();","            }, 2000);","        } else {","            alert(`Failed to ${action} ${displayName}: ${data.error}`);","            button.textContent = originalText;","            button.disabled = false;","        }","    })","    .catch(error => {","        alert(`Error ${action}ing ${displayName}: ${error.message}`);","        button.textContent = originalText;","        button.disabled = false;","    });","}","","function toggleScript(scriptName, displayName, button) {","    const isRunning = button.textContent.trim() === 'Stop';","    const action = isRunning ? 'stop' : 'start';","    ","    // Show loading state","    const originalText = button.textContent;","    button.textContent = 'Processing...';","    button.disabled = true;","    ","    fetch('/api/service-control', {","        method: 'POST',","        headers: {","            'Content-Type': 'application/json',","        },","        body: JSON.stringify({","            service_name: scriptName,","            action: action,","            service_type: 'script'","        })","    })","    .then(response => response.json())","    .then(data => {","        if (data.success) {","            // Refresh page after 2 seconds to show updated status","            setTimeout(() => {","                location.reload();","            }, 2000);","        } else {","            alert(`Failed to ${action} ${displayName}: ${data.error}`);","            button.textContent = originalText;","            button.disabled = false;","        }","    })","    .catch(error => {","        alert(`Error ${action}ing ${displayName}: ${error.message}`);","        button.textContent = originalText;","        button.disabled = false;","    });","}","","function toggleWebService(serviceName, displayName, button) {","    const isRunning = button.textContent.trim() === 'Stop';","    const action = isRunning ? 'stop' : 'start';","    ","    // Show loading state","    const originalText = button.textContent;","    button.textContent = 'Processing...';","    button.disabled = true;","    ","    fetch('/api/service-control', {","        method: 'POST',","        headers: {","            'Content-Type': 'application/json',","        },","        body: JSON.stringify({","            service_name: serviceName,","            action: action,","            service_type: 'web'","        })","    })","    .then(response => response.json())","    .then(data => {","        if (data.success) {","            // Refresh page after 2 seconds to show updated status","            setTimeout(() => {","                location.reload();","            }, 2000);","        } else {","            alert(`Failed to ${action} ${displayName}: ${data.error}`);","            button.textContent = originalText;","            button.disabled = false;","        }","    })","    .catch(error => {","        alert(`Error ${action}ing ${displayName}: ${error.message}`);","        button.textContent = originalText;","        button.disabled = false;","    });","}","","function toggleFlaskDashboard(displayName, button) {","    const isRunning = button.textContent.trim() === 'Restart';","    const action = isRunning ? 'restart' : 'start';","    ","    // Show loading state","    const originalText = button.textContent;","    button.textContent = 'Processing...';","    button.disabled = true;","    ","    fetch('/api/service-control', {","        method: 'POST',","        headers: {","            'Content-Type': 'application/json',","        },","        body: JSON.stringify({","            service_name: 'flask-dashboard',","            action: action,","            service_type: 'flask'","        })","    })","    .then(response => response.json())","    .then(data => {","        if (data.success) {","            // Refresh page after 3 seconds to show updated status","            setTimeout(() => {","                location.reload();","            }, 3000);","        } else {","            alert(`Failed to ${action} ${displayName}: ${data.error}`);","            button.textContent = originalText;","            button.disabled = false;","        }","    })","    .catch(error => {","        alert(`Error ${action}ing ${displayName}: ${error.message}`);","        button.textContent = originalText;","        button.disabled = false;","    });","}",""],"tokenizedAddedLines":[1000197,1000198,1000199,1000200,13,1000201,1000202,1000203,1000204,13,1000205,1000206,1000207,1000208,1000209,1000210,1000211,1000212,1000213,1000214,1000215,1000216,1000217,1000218,1000219,1000220,1000221,1000222,1000223,1000224,1000225,1000226,1000227,1000215,1000228,1000229,1000230,1000231,1000232,1000233,2,1000234,1000199,1000200,13,1000201,1000202,1000203,1000204,13,1000205,1000206,1000207,1000208,1000209,1000210,1000235,1000212,1000236,1000214,1000215,1000216,1000217,1000218,1000219,1000220,1000221,1000222,1000223,1000224,1000225,1000226,1000227,1000215,1000228,1000229,1000230,1000231,1000232,1000233,2,1000237,1000199,1000200,13,1000201,1000202,1000203,1000204,13,1000205,1000206,1000207,1000208,1000209,1000210,1000211,1000212,1000238,1000214,1000215,1000216,1000217,1000218,1000219,1000220,1000221,1000222,1000223,1000224,1000225,1000226,1000227,1000215,1000228,1000229,1000230,1000231,1000232,1000233,2,1000239,1000240,1000241,13,1000201,1000202,1000203,1000204,13,1000205,1000206,1000207,1000208,1000209,1000210,1000242,1000212,1000243,1000214,1000215,1000216,1000217,1000218,1000244,1000220,1000221,1000245,1000223,1000224,1000225,1000226,1000227,1000215,1000228,1000229,1000230,1000231,1000232,1000233,2]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}