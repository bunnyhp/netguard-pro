{"fsPath":"\\home\\jarvis\\NetGuard\\scripts\\setup_api_keys.py","fileUuid":"a45f3198-b418-40db-8785-1d8d580454d9","fileSizeBytes":6585,"numLines":231,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":232,"addedLines":["#!/usr/bin/env python3","\"\"\"","NetGuard Pro - API Key Setup Helper","Interactive script to add AI API keys","\"\"\"","","import sqlite3","import sys","","DB_PATH = \"/home/jarvis/NetGuard/network.db\"","","def print_header():","    print(\"=\" * 60)","    print(\"üîë NetGuard Pro - AI API Key Setup\")","    print(\"=\" * 60)","    print()","","def print_info():","    print(\"üìù You need at least ONE API key (all are FREE):\")","    print()","    print(\"1. ü•á Gemini (Primary - Recommended)\")","    print(\"   Get key: https://aistudio.google.com/app/apikey\")","    print()","    print(\"2. ü•à Groq (Fallback - Fast)\")","    print(\"   Get key: https://console.groq.com/keys\")","    print()","    print(\"3. ü•â OpenRouter (Optional - Many models)\")","    print(\"   Get key: https://openrouter.ai/keys\")","    print()","    print(\"Tip: Add all 3 for best reliability!\")","    print()","","def get_current_keys():","    \"\"\"Get current API key status\"\"\"","    conn = sqlite3.connect(DB_PATH)","    cursor = conn.cursor()","    ","    cursor.execute(\"\"\"","        SELECT key, value, description ","        FROM ai_config ","        WHERE key LIKE '%api_key%'","    \"\"\")","    ","    keys = {}","    for row in cursor.fetchall():","        key_name = row[0]","        value = row[1]","        description = row[2]","        keys[key_name] = {","            'value': value,","            'set': value != 'YOUR_API_KEY_HERE',","            'description': description","        }","    ","    conn.close()","    return keys","","def display_status(keys):","    \"\"\"Display current API key status\"\"\"","    print(\"=\" * 60)","    print(\"üìä Current API Key Status:\")","    print(\"=\" * 60)","    ","    for key_name, info in keys.items():","        status = \"‚úÖ SET\" if info['set'] else \"‚ùå NOT SET\"","        print(f\"{info['description']}: {status}\")","    ","    print()","","def set_api_key(key_name, api_key):","    \"\"\"Set API key in database\"\"\"","    conn = sqlite3.connect(DB_PATH)","    cursor = conn.cursor()","    ","    cursor.execute(\"\"\"","        UPDATE ai_config ","        SET value = ? ","        WHERE key = ?","    \"\"\", (api_key, key_name))","    ","    conn.commit()","    conn.close()","","def interactive_setup():","    \"\"\"Interactive API key setup\"\"\"","    print_header()","    print_info()","    ","    # Get current status","    keys = get_current_keys()","    display_status(keys)","    ","    print(\"=\" * 60)","    print(\"üîß Setup API Keys\")","    print(\"=\" * 60)","    print(\"(Press Enter to skip any key)\")","    print()","    ","    # Gemini","    print(\"1Ô∏è‚É£  Gemini API Key (Primary):\")","    if keys['gemini_api_key']['set']:","        print(f\"   Current: {keys['gemini_api_key']['value'][:20]}...\")","        replace = input(\"   Replace? (y/N): \").strip().lower()","        if replace != 'y':","            print(\"   ‚úì Keeping current key\")","        else:","            new_key = input(\"   Enter new key: \").strip()","            if new_key:","                set_api_key('gemini_api_key', new_key)","                print(\"   ‚úÖ Gemini key updated!\")","    else:","        new_key = input(\"   Enter Gemini API key: \").strip()","        if new_key:","            set_api_key('gemini_api_key', new_key)","            print(\"   ‚úÖ Gemini key saved!\")","        else:","            print(\"   ‚è≠Ô∏è  Skipped\")","    ","    print()","    ","    # Groq","    print(\"2Ô∏è‚É£  Groq API Key (Fallback):\")","    if keys['groq_api_key']['set']:","        print(f\"   Current: {keys['groq_api_key']['value'][:20]}...\")","        replace = input(\"   Replace? (y/N): \").strip().lower()","        if replace != 'y':","            print(\"   ‚úì Keeping current key\")","        else:","            new_key = input(\"   Enter new key: \").strip()","            if new_key:","                set_api_key('groq_api_key', new_key)","                print(\"   ‚úÖ Groq key updated!\")","    else:","        new_key = input(\"   Enter Groq API key: \").strip()","        if new_key:","            set_api_key('groq_api_key', new_key)","            print(\"   ‚úÖ Groq key saved!\")","        else:","            print(\"   ‚è≠Ô∏è  Skipped\")","    ","    print()","    ","    # OpenRouter","    print(\"3Ô∏è‚É£  OpenRouter API Key (Optional):\")","    if keys['openrouter_api_key']['set']:","        print(f\"   Current: {keys['openrouter_api_key']['value'][:20]}...\")","        replace = input(\"   Replace? (y/N): \").strip().lower()","        if replace != 'y':","            print(\"   ‚úì Keeping current key\")","        else:","            new_key = input(\"   Enter new key: \").strip()","            if new_key:","                set_api_key('openrouter_api_key', new_key)","                print(\"   ‚úÖ OpenRouter key updated!\")","    else:","        new_key = input(\"   Enter OpenRouter API key: \").strip()","        if new_key:","            set_api_key('openrouter_api_key', new_key)","            print(\"   ‚úÖ OpenRouter key saved!\")","        else:","            print(\"   ‚è≠Ô∏è  Skipped\")","    ","    print()","    ","    # Final status","    keys = get_current_keys()","    keys_set = sum(1 for k in keys.values() if k['set'])","    ","    print(\"=\" * 60)","    print(\"‚úÖ Setup Complete!\")","    print(\"=\" * 60)","    print(f\"API Keys Set: {keys_set}/3\")","    print()","    ","    if keys_set > 0:","        # Enable AI","        conn = sqlite3.connect(DB_PATH)","        cursor = conn.cursor()","        cursor.execute(\"UPDATE ai_config SET value='1' WHERE key='ai_enabled';\")","        conn.commit()","        conn.close()","        ","        print(\"‚úì AI analysis enabled\")","        print()","        print(\"üöÄ Test your setup:\")","        print(\"   cd /home/jarvis/NetGuard\")","        print(\"   python3 scripts/ai_service_connector.py\")","        print()","        print(\"üåê View results:\")","        print(\"   http://192.168.1.161:8080/ai-dashboard\")","    else:","        print(\"‚ö†Ô∏è  No API keys set. AI analysis will not work.\")","        print()","        print(\"Get free API keys:\")","        print(\"   Gemini: https://aistudio.google.com/app/apikey\")","        print(\"   Groq:   https://console.groq.com/keys\")","        print(\"   OpenRouter: https://openrouter.ai/keys\")","    ","    print()","","def command_line_mode():","    \"\"\"Command-line mode for scripting\"\"\"","    if len(sys.argv) < 3:","        print(\"Usage: python3 setup_api_keys.py <provider> <api_key>\")","        print(\"Providers: gemini, groq, openrouter\")","        sys.exit(1)","    ","    provider = sys.argv[1].lower()","    api_key = sys.argv[2]","    ","    key_map = {","        'gemini': 'gemini_api_key',","        'groq': 'groq_api_key',","        'openrouter': 'openrouter_api_key'","    }","    ","    if provider not in key_map:","        print(f\"Unknown provider: {provider}\")","        print(\"Valid providers: gemini, groq, openrouter\")","        sys.exit(1)","    ","    set_api_key(key_map[provider], api_key)","    print(f\"‚úÖ {provider.capitalize()} API key saved!\")","","if __name__ == \"__main__\":","    if len(sys.argv) > 1:","        command_line_mode()","    else:","        interactive_setup()","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000001,1000004,1000005,1000006,1000004,1000007,1000004,1000008,1000009,1000010,1000009,1000011,1000004,1000012,1000013,1000011,1000014,1000015,1000011,1000016,1000017,1000011,1000018,1000019,1000011,1000020,1000011,1000004,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000025,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1000038,1000039,1000040,1000025,1000041,1000042,1000004,1000043,1000044,1000009,1000045,1000009,1000025,1000046,1000047,1000048,1000025,1000011,1000004,1000049,1000050,1000023,1000024,1000025,1000026,1000051,1000052,1000053,1000054,1000025,1000055,1000041,1000004,1000056,1000057,1000058,1000059,1000025,1000060,1000061,1000062,1000025,1000009,1000063,1000009,1000064,1000011,1000025,1000065,1000066,1000067,1000068,1000069,1000070,1000071,1000072,1000073,1000074,1000075,1000076,1000077,1000078,1000079,1000080,1000081,1000072,1000082,1000025,1000011,1000025,1000083,1000084,1000085,1000086,1000069,1000070,1000071,1000072,1000073,1000074,1000087,1000088,1000077,1000089,1000079,1000090,1000091,1000072,1000082,1000025,1000011,1000025,1000092,1000093,1000094,1000095,1000069,1000070,1000071,1000072,1000073,1000074,1000096,1000097,1000077,1000098,1000079,1000099,1000100,1000072,1000082,1000025,1000011,1000025,1000101,1000061,1000102,1000025,1000009,1000103,1000009,1000104,1000011,1000025,1000105,1000106,1000107,1000108,1000109,1000110,1000111,1000112,1000113,1000114,1000115,1000116,1000117,1000114,1000118,1000119,1000077,1000120,1000114,1000121,1000122,1000123,1000124,1000025,1000011,1000004,1000125,1000126,1000127,1000128,1000129,1000130,1000025,1000131,1000132,1000025,1000133,1000134,1000135,1000136,1000137,1000025,1000138,1000139,1000140,1000130,1000025,1000141,1000142,1000004,1000143,1000144,1000145,1000077,1000146,1000004,1000004]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}