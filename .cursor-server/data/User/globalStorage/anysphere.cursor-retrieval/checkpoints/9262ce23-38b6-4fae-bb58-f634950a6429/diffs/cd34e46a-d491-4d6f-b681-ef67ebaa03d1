{"fsPath":"\\home\\jarvis\\NetGuard\\web\\app.py","fileUuid":"cd34e46a-d491-4d6f-b681-ef67ebaa03d1","fileSizeBytes":81019,"numLines":2052,"diffChanges":[{"originalStartLineNumberOneIndexed":1250,"originalEndLineNumberExclusiveOneIndexed":1250,"modifiedStartLineNumberOneIndexed":1250,"modifiedEndLineNumberExclusiveOneIndexed":1270,"addedLines":["            # Check if it's a timer service","            if service_name in ['ai-5min-aggregator', 'device-scorer']:","                # Handle timer services","                if action == 'start':","                    result = subprocess.run(['sudo', 'systemctl', 'start', service_name + '.timer'], ","                                          capture_output=True, text=True, timeout=10)","                elif action == 'stop':","                    result = subprocess.run(['sudo', 'systemctl', 'stop', service_name + '.timer'], ","                                          capture_output=True, text=True, timeout=10)","                elif action == 'restart':","                    subprocess.run(['sudo', 'systemctl', 'stop', service_name + '.timer'], ","                                 capture_output=True, text=True, timeout=5)","                    subprocess.run(['sudo', 'systemctl', 'stop', service_name + '.service'], ","                                 capture_output=True, text=True, timeout=5)","                    result = subprocess.run(['sudo', 'systemctl', 'start', service_name + '.timer'], ","                                          capture_output=True, text=True, timeout=10)","                else:","                    return jsonify({'success': False, 'error': 'Invalid action for timer service'})","            else:","                # Handle regular services"],"tokenizedAddedLines":[1001283,1001284,1001285,1001286,1001287,1001288,1001289,1001290,1001288,1001291,1001292,1001293,1001294,1001293,1001287,1001288,1211,1001295,431,1001296]},{"originalStartLineNumberOneIndexed":1864,"originalEndLineNumberExclusiveOneIndexed":1864,"modifiedStartLineNumberOneIndexed":1884,"modifiedEndLineNumberExclusiveOneIndexed":1906,"addedLines":["            # Check if it's a timer service","            if service['service'] in ['ai-5min-aggregator', 'device-scorer']:","                # Check timer status","                result = subprocess.run(","                    ['systemctl', 'is-active', service['service'] + '.timer'],","                    capture_output=True,","                    text=True,","                    timeout=2","                )","                if result.returncode == 0:","                    service['status'] = 'running'","                else:","                    # Check if the service itself is running","                    result = subprocess.run(","                        ['systemctl', 'is-active', service['service'] + '.service'],","                        capture_output=True,","                        text=True,","                        timeout=2","                    )","                    service['status'] = 'running' if result.returncode == 0 else 'stopped'","            else:","                # Regular service check"],"tokenizedAddedLines":[1001283,1001297,1001298,1203,1001299,1205,1206,1207,1208,1209,1210,1211,1001300,1001301,1001302,1001303,1001304,1001305,1001306,1001307,431,1001308]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}