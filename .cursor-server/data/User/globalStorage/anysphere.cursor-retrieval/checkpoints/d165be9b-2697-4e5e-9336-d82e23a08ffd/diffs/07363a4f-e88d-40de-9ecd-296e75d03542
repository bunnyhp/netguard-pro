{"fsPath":"\\home\\jarvis\\NetGuard\\test_iot_route.py","fileUuid":"07363a4f-e88d-40de-9ecd-296e75d03542","fileSizeBytes":1444,"numLines":50,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":51,"addedLines":["#!/usr/bin/env python3","\"\"\"","Test script to check IoT devices route","\"\"\"","","import sys","import os","sys.path.append('/home/jarvis/NetGuard/web')","","try:","    from app import app","    import sqlite3","    ","    print(\"Testing IoT devices route...\")","    ","    # Test database connection","    DB_PATH = \"/home/jarvis/NetGuard/network.db\"","    conn = sqlite3.connect(DB_PATH)","    cursor = conn.cursor()","    ","    # Check if devices table exists","    cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table' AND name='devices'\")","    devices_exists = cursor.fetchone() is not None","    print(f\"Devices table exists: {devices_exists}\")","    ","    if devices_exists:","        cursor.execute(\"SELECT COUNT(*) FROM devices\")","        device_count = cursor.fetchone()[0]","        print(f\"Total devices: {device_count}\")","        ","        cursor.execute(\"SELECT COUNT(*) FROM devices WHERE device_type = 'IoT'\")","        iot_count = cursor.fetchone()[0]","        print(f\"IoT devices: {iot_count}\")","    ","    conn.close()","    ","    # Test the route with Flask test client","    with app.test_client() as client:","        response = client.get('/iot-devices')","        print(f\"Response status: {response.status_code}\")","        if response.status_code != 200:","            print(f\"Error response: {response.data.decode()}\")","        else:","            print(\"IoT devices route working!\")","    ","except Exception as e:","    print(f\"Error: {e}\")","    import traceback","    traceback.print_exc()",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000001,1000003,1000004,1000005,1000006,1000003,1000007,1000008,1000009,1000010,1000011,1000010,1000012,1000013,1000014,1000015,1000010,1000016,1000017,1000018,1000019,1000010,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000010,1000028,1000010,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000010,1000037,1000038,1000039,1000040,1000003]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}