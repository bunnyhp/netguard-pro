{"fsPath":"\\home\\jarvis\\NetGuard\\scripts\\optimize_interfaces.sh","fileUuid":"f79eb393-6871-4121-a43a-9cf90416e2da","fileSizeBytes":3540,"numLines":99,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":100,"addedLines":["#!/bin/bash","#","# NetGuard Pro - Network Interface Optimization Script","# Optimizes network interfaces for accurate packet capture","#","","echo \"======================================================================\"","echo \"NetGuard Pro - Network Interface Optimization\"","echo \"======================================================================\"","echo \"\"","","# Network interfaces","INTERFACES=(\"eno1\" \"wlo1\" \"wlx1cbfce6265ad\")","","echo \"Optimizing network interfaces for packet capture...\"","echo \"\"","","# Disable offloading features for accurate capture","echo \"[1/3] Disabling hardware offloading...\"","for iface in \"${INTERFACES[@]}\"; do","    if ip link show \"$iface\" &> /dev/null; then","        echo \"  • $iface: Disabling GRO, LRO, TSO, GSO...\"","        sudo ethtool -K \"$iface\" gro off lro off tso off gso off 2>/dev/null","        if [ $? -eq 0 ]; then","            echo \"    ✓ Offloading disabled\"","        else","            echo \"    ⚠ Some features may not be supported on this interface\"","        fi","    else","        echo \"  • $iface: Interface not found (skipping)\"","    fi","done","echo \"\"","","# Increase ring buffers for better packet capture","echo \"[2/3] Increasing ring buffers...\"","for iface in \"${INTERFACES[@]}\"; do","    if ip link show \"$iface\" &> /dev/null; then","        echo \"  • $iface: Setting RX/TX ring buffers to 4096...\"","        sudo ethtool -G \"$iface\" rx 4096 tx 4096 2>/dev/null","        if [ $? -eq 0 ]; then","            echo \"    ✓ Ring buffers increased\"","        else","            echo \"    ⚠ Ring buffer adjustment not supported on this interface\"","        fi","    fi","done","echo \"\"","","# Set CPU governor to performance mode","echo \"[3/3] Setting CPU governor to performance mode...\"","if [ -d \"/sys/devices/system/cpu/cpu0/cpufreq\" ]; then","    for cpu in /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor; do","        echo performance | sudo tee \"$cpu\" > /dev/null 2>&1","    done","    echo \"  ✓ CPU governor set to performance\"","else","    echo \"  ⚠ CPU frequency scaling not available\"","fi","echo \"\"","","# Increase network buffer sizes (sysctl)","echo \"Optimizing kernel network parameters...\"","sudo sysctl -w net.core.rmem_max=134217728 > /dev/null 2>&1","sudo sysctl -w net.core.rmem_default=134217728 > /dev/null 2>&1","sudo sysctl -w net.core.wmem_max=134217728 > /dev/null 2>&1","sudo sysctl -w net.core.netdev_max_backlog=5000 > /dev/null 2>&1","echo \"  ✓ Network buffers optimized\"","echo \"\"","","# Display current settings","echo \"======================================================================\"","echo \"Current Interface Settings:\"","echo \"======================================================================\"","for iface in \"${INTERFACES[@]}\"; do","    if ip link show \"$iface\" &> /dev/null; then","        echo \"\"","        echo \"Interface: $iface\"","        echo \"  Status: $(ip link show $iface | grep -o 'state [A-Z]*' | awk '{print $2}')\"","        echo \"  IP: $(ip addr show $iface | grep 'inet ' | awk '{print $2}' | cut -d/ -f1)\"","        ","        # Check offloading status","        gro_status=$(sudo ethtool -k \"$iface\" 2>/dev/null | grep \"generic-receive-offload\" | awk '{print $2}')","        echo \"  GRO: ${gro_status:-unknown}\"","    fi","done","echo \"\"","","echo \"======================================================================\"","echo \"Optimization Complete!\"","echo \"======================================================================\"","echo \"\"","echo \"Note: These settings are temporary and will reset on reboot.\"","echo \"To make them permanent, add this script to crontab:\"","echo \"  sudo crontab -e\"","echo \"  @reboot /home/jarvis/NetGuard/scripts/optimize_interfaces.sh\"","echo \"\"","",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000001,1000004,1000005,1000006,1000005,1000007,1000004,1000008,1000009,1000004,1000010,1000007,1000004,1000011,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000020,1000021,1000022,1000023,1000024,1000025,1000007,1000004,1000026,1000027,1000013,1000014,1000028,1000029,1000017,1000030,1000019,1000031,1000021,1000024,1000025,1000007,1000004,1000032,1000033,1000034,1000035,1000036,1000037,1000038,1000039,1000040,1000041,1000007,1000004,1000042,1000043,1000044,1000045,1000046,1000047,1000048,1000007,1000004,1000049,1000005,1000050,1000005,1000013,1000014,1000051,1000052,1000053,1000054,1000055,1000056,1000057,1000058,1000024,1000025,1000007,1000004,1000005,1000059,1000005,1000007,1000060,1000061,1000062,1000063,1000007,1000004,1000004]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}