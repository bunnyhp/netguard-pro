{"fsPath":"\\home\\jarvis\\NetGuard\\web\\app.py","fileUuid":"ba45c127-8500-4882-a2e0-b697ee843dd4","fileSizeBytes":56008,"numLines":1445,"diffChanges":[{"originalStartLineNumberOneIndexed":1375,"originalEndLineNumberExclusiveOneIndexed":1375,"modifiedStartLineNumberOneIndexed":1375,"modifiedEndLineNumberExclusiveOneIndexed":1378,"addedLines":["        ","        # Tables to clear (delete all rows but keep structure)","        tables_to_clear = ['ai_analysis', 'devices', 'iot_vulnerabilities', 'security_alerts']"],"tokenizedAddedLines":[47,1000918,1000919]},{"originalStartLineNumberOneIndexed":1377,"originalEndLineNumberExclusiveOneIndexed":1377,"modifiedStartLineNumberOneIndexed":1380,"modifiedEndLineNumberExclusiveOneIndexed":1381,"addedLines":["        cleared_tables = []"],"tokenizedAddedLines":[1000920]},{"originalStartLineNumberOneIndexed":1379,"originalEndLineNumberExclusiveOneIndexed":1379,"modifiedStartLineNumberOneIndexed":1383,"modifiedEndLineNumberExclusiveOneIndexed":1393,"addedLines":["        # Clear data tables (keep structure)","        for table in tables_to_clear:","            if table in all_tables:","                try:","                    cursor.execute(f\"DELETE FROM {table}\")","                    cleared_tables.append(table)","                except:","                    pass","        ","        # Drop collector tables completely"],"tokenizedAddedLines":[1000921,1000922,1000923,1000924,1000925,1000926,1000927,1000928,47,1000929]},{"originalStartLineNumberOneIndexed":1385,"originalEndLineNumberExclusiveOneIndexed":1387,"modifiedStartLineNumberOneIndexed":1399,"modifiedEndLineNumberExclusiveOneIndexed":1406,"addedLines":["            # Skip system tables","            if table in ['sqlite_sequence']:","                kept_tables.append(table)","                continue","            ","            # Skip tables we already cleared","            if table in tables_to_clear:"],"tokenizedAddedLines":[1000930,1000931,896,167,187,1000932,1000933]},{"originalStartLineNumberOneIndexed":1408,"originalEndLineNumberExclusiveOneIndexed":1412,"modifiedStartLineNumberOneIndexed":1427,"modifiedEndLineNumberExclusiveOneIndexed":1432,"addedLines":["            'message': f'Successfully flushed all data! Dropped {len(dropped_tables)} tables, cleared {len(cleared_tables)} data tables.',","            'tables_dropped': len(dropped_tables),","            'tables_cleared': len(cleared_tables),","            'cleared_tables': cleared_tables,","            'dropped_tables_list': dropped_tables"],"tokenizedAddedLines":[1000934,1000935,1000936,1000937,1000938]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}