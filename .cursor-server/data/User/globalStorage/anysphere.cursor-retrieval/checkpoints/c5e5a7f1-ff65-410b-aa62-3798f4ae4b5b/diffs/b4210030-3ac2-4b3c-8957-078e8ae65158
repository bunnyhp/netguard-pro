{"fsPath":"\\home\\jarvis\\NetGuard\\web\\app.py","fileUuid":"b4210030-3ac2-4b3c-8957-078e8ae65158","fileSizeBytes":64869,"numLines":1690,"diffChanges":[{"originalStartLineNumberOneIndexed":1534,"originalEndLineNumberExclusiveOneIndexed":1535,"modifiedStartLineNumberOneIndexed":1534,"modifiedEndLineNumberExclusiveOneIndexed":1536,"addedLines":["            'script': 'ai_5min_aggregator.py',","            'service': 'ai-5min-aggregator'"],"tokenizedAddedLines":[1001068,1001069]},{"originalStartLineNumberOneIndexed":1540,"originalEndLineNumberExclusiveOneIndexed":1541,"modifiedStartLineNumberOneIndexed":1541,"modifiedEndLineNumberExclusiveOneIndexed":1543,"addedLines":["            'script': 'device_tracker.py',","            'service': 'device-tracker'"],"tokenizedAddedLines":[1001070,1001071]},{"originalStartLineNumberOneIndexed":1546,"originalEndLineNumberExclusiveOneIndexed":1547,"modifiedStartLineNumberOneIndexed":1548,"modifiedEndLineNumberExclusiveOneIndexed":1550,"addedLines":["            'script': 'unified_device_processor.py',","            'service': 'unified-device-processor'"],"tokenizedAddedLines":[1001072,1001073]},{"originalStartLineNumberOneIndexed":1552,"originalEndLineNumberExclusiveOneIndexed":1553,"modifiedStartLineNumberOneIndexed":1555,"modifiedEndLineNumberExclusiveOneIndexed":1557,"addedLines":["            'script': 'iot_security_scanner.py',","            'service': 'iot-security-scanner'"],"tokenizedAddedLines":[1001074,1001075]},{"originalStartLineNumberOneIndexed":1558,"originalEndLineNumberExclusiveOneIndexed":1559,"modifiedStartLineNumberOneIndexed":1562,"modifiedEndLineNumberExclusiveOneIndexed":1564,"addedLines":["            'script': 'device_scorer.py',","            'service': 'device-scorer'"],"tokenizedAddedLines":[1001076,1001077]},{"originalStartLineNumberOneIndexed":1564,"originalEndLineNumberExclusiveOneIndexed":1565,"modifiedStartLineNumberOneIndexed":1569,"modifiedEndLineNumberExclusiveOneIndexed":1577,"addedLines":["            'script': 'enhanced_alert_system.py',","            'service': 'enhanced-alert-system'","        },","        {","            'name': 'Database Optimizer',","            'description': 'Adds indexes and runs VACUUM/ANALYZE for performance',","            'icon': 'âš¡',","            'script': 'optimize_database.py'"],"tokenizedAddedLines":[1001078,1001079,479,473,1001080,1001081,971,1001082]},{"originalStartLineNumberOneIndexed":1582,"originalEndLineNumberExclusiveOneIndexed":1582,"modifiedStartLineNumberOneIndexed":1594,"modifiedEndLineNumberExclusiveOneIndexed":1596,"addedLines":["            service['status'] = 'stopped'  # Default","            "],"tokenizedAddedLines":[1001083,187]},{"originalStartLineNumberOneIndexed":1590,"originalEndLineNumberExclusiveOneIndexed":1592,"modifiedStartLineNumberOneIndexed":1604,"modifiedEndLineNumberExclusiveOneIndexed":1619,"addedLines":["                if result.returncode == 0:","                    service['status'] = 'running'","                else:","                    # If service check fails, try script check","                    if 'script' in service:","                        result = subprocess.run(","                            ['pgrep', '-f', service['script']],","                            capture_output=True,","                            text=True,","                            timeout=2","                        )","                        if result.returncode == 0:","                            service['status'] = 'running'","            ","            # If no service defined, check if script is running"],"tokenizedAddedLines":[1001084,1032,1001085,1001086,1001087,1001088,1001089,1001090,1001091,1001092,1001093,1001094,1001095,187,1001096]},{"originalStartLineNumberOneIndexed":1599,"originalEndLineNumberExclusiveOneIndexed":1600,"modifiedStartLineNumberOneIndexed":1626,"modifiedEndLineNumberExclusiveOneIndexed":1628,"addedLines":["                if result.returncode == 0:","                    service['status'] = 'running'"],"tokenizedAddedLines":[1001084,1032]},{"originalStartLineNumberOneIndexed":1601,"originalEndLineNumberExclusiveOneIndexed":1602,"modifiedStartLineNumberOneIndexed":1629,"modifiedEndLineNumberExclusiveOneIndexed":1630,"addedLines":["            # For collectors, also check if tables exist (fallback indicator)"],"tokenizedAddedLines":[1001097]},{"originalStartLineNumberOneIndexed":1604,"originalEndLineNumberExclusiveOneIndexed":1607,"modifiedStartLineNumberOneIndexed":1632,"modifiedEndLineNumberExclusiveOneIndexed":1636,"addedLines":["                # If we have tables, collector has run at least once","                if service['table_count'] > 0 and service['status'] == 'stopped':","                    service['status'] = 'unknown'  # Was running, may be stopped now","        except Exception as e:"],"tokenizedAddedLines":[1001098,1001099,1001100,199]},{"originalStartLineNumberOneIndexed":1608,"originalEndLineNumberExclusiveOneIndexed":1608,"modifiedStartLineNumberOneIndexed":1637,"modifiedEndLineNumberExclusiveOneIndexed":1638,"addedLines":["            service['error'] = str(e)"],"tokenizedAddedLines":[1001101]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}